<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Akkadian Converter</title>
		<script>
			var before = ["sz", "s,", "t,", "h", "aa", "ee", "ii", "uu", "'", "SZ", "G,", "H", "{", "}", ";"];
			var after = ["š", "ṣ", "ṭ", "ḫ", "ā", "ē", "ī", "ū", "’", "Š", "Ĝ", "Ḫ", "</i><sup>", "</sup><i>", "<br>"];

			var log = ["M", "N", "Ĝ", "B", "D", "G", "P", "T", "K", "S", "Š", "Ḫ", "Z", "R", "L", "A", "E", "I", "U"];
			var num = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9"];

			var tags_before = ["<i></i>", "</sub><sub>"];
			var tags_after = ["", ""];

			function convert() {
				var input = "<i>" + document.getElementById("input").value + "</i>";

				for (i = 0; i < before.length; i++) {
					input = input.replaceAll(before[i], after[i]);
				}

				for (i = 0; i < log.length; i++) {
					input = input.replaceAll(log[i], "</i>" + log[i] + "<i>");
				}

				for (i = 0; i < num.length; i++) {
					input = input.replaceAll(num[i], "</i><sub>" + num[i] + "</sub><i>");
				}

				for (i = 0; i < tags_before.length; i++) {
					input = input.replaceAll(tags_before[i], tags_after[i]);
				}

				document.getElementById("output").innerHTML = input;
			}
		</script>
		
		<style>
			#output {
				margin: 2em 0;
			}

			table, th, td {
				border-collapse: collapse;
				border: 1px solid black;
			}

			th, td {
				text-align: center;
				padding: .25em 1em;
				width: 3em;
				height: 1.3em;
			}

			td {
				font-style: italic;
				font-family: serif;
			}

			th {
				font-family: monospace;
				font-weight: normal;
				font-size: 120%;
			}
		</style>
	</head>
	
	<body>
		<h2>Converter for transliterated or normalized Akkadian</h2>
		
		<textarea id="input" value="" rows="10" cols="64">{d}EN.LIL2 sza awiilam is,batu izkurszum</textarea>
		
		<br><button id="button" onclick="convert()">Convert</button><br>
		
		<p id="output"></p>
		
		<h4>Key:</h4>
		
		<table>
			<tr>
				<th>sz</th>
				<td>š</td>
			</tr>
			<tr>
				<th>s,</th>
				<td>ṣ</td>
			</tr>
			<tr>
				<th>t,</th>
				<td>ṭ</td>
			</tr>
			<tr>
				<th>h</th>
				<td>ḫ</td>
			</tr>
			<tr>
				<th>aa</th>
				<td>ā</td>
			</tr>
			<tr>
				<th>'</th>
				<td>’</td>
			</tr>
			<tr>
				<th>SZ</th>
				<td style="font-style:normal;">Š</td>
			</tr>
			<tr>
				<th>G,</th>
				<td style="font-style:normal;">Ĝ</td>
			</tr>
			<tr>
				<th>H</th>
				<td style="font-style:normal;">Ḫ</td>
			</tr>
			<tr>
				<th>{d}</th>
				<td style="font-style:normal;"><sup>d</sup></td>
			</tr>
			<tr>
				<th>2</th>
				<td style="font-style:normal;"><sub>2</sub></td>
			</tr>
			<tr>
				<th>;</th>
				<td style="font-style:normal;">line break</td>
			</tr>
		</table>
		
		<p>Made in Leiden</p>
	</body>
</html>
		
<!-- (c) Victor Voermans 2020 -->